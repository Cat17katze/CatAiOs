shell.run(".recolor")
print("Checking for updates...")
shell.run("wget https://raw.githubusercontent.com/TheAio/CatAiOs/main/version.info .temp.temp")
if fs.exists("./sys/version.info") then
  i=fs.open("./sys/version.info","r")
  j=fs.open(".temp.temp","r")
  if j.readLine() == i.readLine() then
  else
    j.close()
    i.close()
    print("Update found, updateing...")
    sleep(1)
    shell.run("rm ./sys/version.info")
    sleep(1)
    shell.run("mv .temp.temp ./sys/version.info")
    shell.run("rm startup")
    sleep(1)
    shell.run("wget https://raw.githubusercontent.com/TheAio/CatAiOs/main/src/CATAIOS startup")
    print("NEW UPDATE INSTALLED, REBOOT TO BEGIN USEING IT")
    sleep(3)
  end
else
  shell.run("mv .temp.temp ./sys/version.info")
  shell.run("rm startup")
  sleep(1)
  shell.run("wget https://raw.githubusercontent.com/TheAio/CatAiOs/main/src/CATAIOS startup")
  print("NEW UPDATE INSTALLED, REBOOT TO BEGIN USEING IT")
  sleep(3)
end
print("Scaning for PNP devices...")
modem = peripheral.find("modem")
speeker = peripheral.find("speeker")
print("Running boot files...")
if fs.exists("./boot/") then
  i=fs.list("./boot/")
  for j=1,#i do
    shell.run("fg ./boot/"..i[j])
    sleep(0)
  end
end
term.clear()
term.setCursorPos(1,1)
term.setBackgroundColor(colors.black)
term.clear()
term.setCursorPos(1,1)
term.setTextColor(colors.white)
UserFile = fs.open("./.admin","r")
User = UserFile.readLine()
Pronouns = UserFile.readLine()
print("Welcome",User)
if modem == nil then
else
  rednet.open(peripheral.getName(modem))
  rednet.broadcast("User "..User.." ("..Pronouns..") just went online!")
end
shell.run("cd ./"..User)
shell.run("ls")
